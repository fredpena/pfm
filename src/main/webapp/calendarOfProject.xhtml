<?xml version='1.0' encoding='UTF-8' ?>
<!-- Author: ppbust -->

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"                
                xmlns:p="http://primefaces.org/ui"
                template="/templates/templateHome.xhtml">

    <ui:define name="pagetitle">
        #{confProjectBean.project.name}
    </ui:define>    

    <ui:define name="title">
        Home
    </ui:define>

    <ui:define name="subtitle">
        Project's Calendar
    </ui:define>

    <ui:define name="body">
        <h:outputScript target="head">

            function markHolidaysAndReportedDays(date) {               
            var holidays = ["May 8, 2014", "May 17, 2014", "May 25, 2014"];
            for (var i = 0; i &#60; holidays.length; i++) {
            if(date.getTime() == new Date(holidays[i]).getTime())             
            return [true,'holiday'];                                    
            }
            return [true, ''];
            }

        </h:outputScript> 
        <div id="infoCalendar">
            <p class="CalendarFrom"><span>Since:</span> 00/00/0000</p>
            <p class="CalendarTo"><span>Until:</span> 00/00/0000</p>
            <p class="workingDays">Working days:</p>
            <p class="totalDays">30</p>
        </div>
        <div id="formCalendar">
            <h:form>
                <p:growl id="growl" showDetail="true"/>
                <p:calendar id="calProject" value="#{calendarProjectBean.date1}" navigator="true" mode="inline" beforeShowDay="markHolidaysAndReportedDays" mindate="1/1/12" maxdate="5/31/12">
                    <p:ajax event="dateSelect" listener="#{calendarProjectBean.handleDateSelect}" update="growl" />
                </p:calendar>
            </h:form>
        </div>
    </ui:define>
</ui:composition>